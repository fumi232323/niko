<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
<title>Django: settings.py/ふみのて</title>
<link rel="shortcut icon" href="../../assets/icons/favicon.ico">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Griffy">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Vollkorn:400,700">
<link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/sawarabimincho.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link rel="stylesheet" href="../../assets/css/style.css?20191110">
</head>
<body>
    <div class="container">
      <div class="header"><header class="item item-header"><h1>
    <a href="../../">
      <img class="logo" src="../../assets/images/inuu.png" alt="犬"></a>
  </h1>
  <iframe src="../../tags/" class="tags"></iframe>
</header></div>
      <div class="main">
<div class="article-content">
  <main class="item item-article item-django"><time class="date" datetime="2019-11-24 00:00:00+09:00">
      2019-11-24 Sun
    </time><div class="title">Django: settings.py</div>
    <div class="category">
      <a href="../../tags/django/">
          django
      </a>
    </div>
    <div class="text">
      <div>
<details><summary>目次</summary><div class="contents topic" id="id1">
<p class="topic-title first">目次</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id2" id="id17">書籍/リファレンス</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id18">概要</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id19">インストールするアプリケーション一覧</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id20">デバッグ設定</a></p></li>
<li>
<p><a class="reference internal" href="#id6" id="id21">静的ファイル/メディアファイル</a></p>
<ul>
<li><p><a class="reference internal" href="#id7" id="id22">静的ファイル関連の設定</a></p></li>
<li>
<p><a class="reference internal" href="#id8" id="id23">メディアファイル関連設定</a></p>
<ul>
<li><p><a class="reference internal" href="#runserver" id="id24">runserver でメディアファイルを配信してくれる仕組みがある</a></p></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a class="reference internal" href="#id9" id="id25">データベース設定</a></p>
<ul>
<li><p><a class="reference internal" href="#id10" id="id26">組み込みでサポートしているデータベースエンジン:</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id27">設定できる項目一覧:</a></p></li>
<li><p><a class="reference internal" href="#mysql" id="id28">MySQL で注意する点:</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="#id12" id="id29">ロギングの設定</a></p>
<ul>
<li><p><a class="reference internal" href="#logging" id="id30">本番稼働時の LOGGING 設定例</a></p></li>
<li><p><a class="reference internal" href="#id13" id="id31">開発時の LOGGING 設定例</a></p></li>
<li><p><a class="reference internal" href="#id14" id="id32">ロガーを取得する</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id15" id="id33">その他の重要な設定</a></p></li>
<li><p><a class="reference internal" href="#id16" id="id34">ベストプラクティス</a></p></li>
</ul>
</div>
</details><div class="section" id="id2">
<h2><a class="toc-backref" href="#id17">書籍/リファレンス</a></h2>
<ul class="simple">
<li><p>Djangoの設定: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/topics/settings/">https://docs.djangoproject.com/ja/2.2/topics/settings/</a></p></li>
<li><p>設定: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/settings/">https://docs.djangoproject.com/ja/2.2/ref/settings/</a></p></li>
<li><p><a class="reference external" href="https://booth.pm/ja/items/1059917">現場で使える Django の教科書</a> 第10章</p></li>
</ul>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id18">概要</a></h2>
<ul>
<li>
<p>設定オブジェクト: <code class="docutils literal">django.conf.settings</code></p>
<ul>
<li>
<p>Django 起動時に次のようにインスタンス化されるシングルトンなグローバルオブジェクト</p>
<pre class="code python"><a name="rest_code_c53e1abd029c4355a62f448e83b97afd-1"></a><span class="c1"># django/conf/__init__.py</span>
<a name="rest_code_c53e1abd029c4355a62f448e83b97afd-2"></a><span class="n">settings</span> <span class="o">=</span> <span class="n">LazySettings</span><span class="p">()</span>
</pre>
</li>
<li><p>↑ は、Django のデフォルト設定ファイル ( <code class="docutils literal">django.conf.global__settings.py</code> ) を読み込んだ後</p></li>
<li><p>プロジェクト作成時に生成される設定ファイル ( <code class="docutils literal">settings.py</code> ) を読み込んで設定を上書きされる</p></li>
</ul>
</li>
<li>
<p>設定ファイル: プロジェクト生成時に生成される <code class="docutils literal">settings.py</code></p>
<ul class="simple">
<li><p>Django のデフォルト設定とは異なるプロジェクト固有の設定値や</p></li>
<li><p>自作のアプリケーションで利用する独自の変数を記述しておく</p></li>
</ul>
</li>
<li><p>Django で利用できる設定変数とそのデフォルト値の一覧 =&gt; <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/settings/">https://docs.djangoproject.com/ja/2.2/ref/settings/</a></p></li>
<li>
<p>View や models からアクセスするときは、オブジェクトなので、</p>
<pre class="code python"><a name="rest_code_b07b59142b3d444cafcdadeba25e3775-1"></a><span class="c1"># こんな風に参照しましょう</span>
<a name="rest_code_b07b59142b3d444cafcdadeba25e3775-2"></a><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<a name="rest_code_b07b59142b3d444cafcdadeba25e3775-3"></a><span class="n">settings</span><span class="o">.</span><span class="n">LOGIN_URL</span>
</pre>
</li>
<li>
<p>LazySettings ??</p>
<ul class="simple">
<li><p>その設定値にアクセスされてから初めてその属性が読み込まれる</p></li>
<li><p>最初にその属性値にアクセスされるまでは設定を変え放題</p></li>
<li><p>settings の属性に一度でもアクセスされてしまうと、変更しようとしてもエラーになるので、</p></li>
<li><p>基本的には、設定ファイルの中で初期設定を済ませよう</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id19">インストールするアプリケーション一覧</a></h2>
<pre class="code python"><a name="rest_code_bdd0ec8ad9ef4da29abac05098799338-1"></a><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
<a name="rest_code_bdd0ec8ad9ef4da29abac05098799338-2"></a>    <span class="c1"># 略</span>
<a name="rest_code_bdd0ec8ad9ef4da29abac05098799338-3"></a>    <span class="c1"># Install するアプリケーションをリスト形式で列挙</span>
<a name="rest_code_bdd0ec8ad9ef4da29abac05098799338-4"></a>    <span class="c1"># 各アプリディレクトリ.apps.py の AppConfig クラスのサブクラスを指定する</span>
<a name="rest_code_bdd0ec8ad9ef4da29abac05098799338-5"></a>    <span class="s1">'accounts.apps.AccountsConfig'</span><span class="p">,</span>
<a name="rest_code_bdd0ec8ad9ef4da29abac05098799338-6"></a>    <span class="s1">'shop.apps.ShopConfig'</span><span class="p">,</span>
<a name="rest_code_bdd0ec8ad9ef4da29abac05098799338-7"></a><span class="p">]</span>
</pre>
<ul class="simple">
<li><p>パッケージ名を書くのは少し古い書き方</p></li>
<li><p>上に書いた方が優先順位が高い</p></li>
</ul>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id20">デバッグ設定</a></h2>
<pre class="code python"><a name="rest_code_a6893ec182f841acbcf9262af96d5a37-1"></a><span class="n">DEBUG</span> <span class="o">=</span> <span class="bp">False</span>
</pre>
<ul class="simple">
<li>
<p>開発時は True にしておくと、いろいろ便利</p>
<ul>
<li><p>エラー発生時に画面にデバッグ情報が出力される</p></li>
<li><p>django-debug-toolbar, SQL 文のロギングは True じゃないと使えない</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id21">静的ファイル/メディアファイル</a></h2>
<ul class="simple">
<li><p>The staticfiles app: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/contrib/staticfiles/">https://docs.djangoproject.com/ja/2.2/ref/contrib/staticfiles/</a></p></li>
<li><p>静的ファイルのデプロイ: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/howto/static-files/deployment/">https://docs.djangoproject.com/ja/2.2/howto/static-files/deployment/</a></p></li>
<li><p>ファイルのアップロード: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/topics/http/file-uploads/">https://docs.djangoproject.com/ja/2.2/topics/http/file-uploads/</a></p></li>
<li><p>Djangoで静的ファイルとうまくやる: <a class="reference external" href="https://tell-k.github.io/djangocongressjp2019/#1">https://tell-k.github.io/djangocongressjp2019/#1</a></p></li>
</ul>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id22">静的ファイル関連の設定</a></h3>
<ul>
<li>
<p><code class="docutils literal">静的ファイル (static ファイル)</code>: リクエストに応じて中身を変更せずそのまま配信するファイル</p>
<ul class="simple">
<li><p>CSS ファイル</p></li>
<li><p>JavaScript ファイル</p></li>
<li><p>画像ファイルに</p></li>
</ul>
</li>
<li>
<p>単に静的ファイルをブラウザへ返すだけの処理をアプリケーションサーバーで捌くと、無駄が多くなってしまう</p>
<ul class="simple">
<li><p>=&gt; アプリケーションサーバーの前段に Nginx に代表される <code class="docutils literal">リバースプロキシ</code> と呼ばれるサーバーを配置し、</p></li>
<li><p>=&gt; 静的ファイルを返すだけの処理はリバースプロキシが担当し、</p></li>
<li><p>=&gt; Web application の処理が必要なリクエストだけをアプリケーションサーバーへ振り分けることで、</p></li>
<li><p>=&gt; 効率よくリクエストを捌けるようにする</p></li>
</ul>
</li>
<li>
<p>セキュリティの観点から、↓は別々にするケースが多い</p>
<ul class="simple">
<li><p>静的ファイルの配信元</p></li>
<li><p>プロジェクトで静的ファイルをバージョン管理する際のプロジェクト内での置き場所</p></li>
</ul>
</li>
<li>
<p>最低限↓の３つの設定必要</p>
<pre class="code python"><a name="rest_code_bf232b3b044348f58469c32e33875481-1"></a><span class="c1"># これしておくと便利</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-2"></a><span class="n">BASE_DIR</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)))</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-3"></a><span class="n">PROJECT_NAME</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">)</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-4"></a>
<a name="rest_code_bf232b3b044348f58469c32e33875481-5"></a><span class="c1"># 静的ファイル配信用のディレクトリ、URL の一部になる</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-6"></a><span class="c1"># 設定値はデフォルトの `/static/` のままでよい</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-7"></a><span class="n">STATIC_URL</span> <span class="o">=</span> <span class="s1">'/static/'</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-8"></a>
<a name="rest_code_bf232b3b044348f58469c32e33875481-9"></a><span class="c1"># アプリケーションに紐づかない静的ファイルの置き場</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-10"></a><span class="n">STATICFILES_DIRS</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s1">'static'</span><span class="p">)]</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-11"></a>
<a name="rest_code_bf232b3b044348f58469c32e33875481-12"></a><span class="c1"># 静的ファイルの配信元</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-13"></a><span class="c1"># collectstatic コマンドで静的ファイルを集約する際のコピー先でもある</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-14"></a><span class="c1"># `STATICFILES_DIRS` とは別のディレクトリを指定する必要がある</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-15"></a><span class="c1"># DEBUG = False のときに必要</span>
<a name="rest_code_bf232b3b044348f58469c32e33875481-16"></a><span class="n">STATIC_ROOT</span> <span class="o">=</span> <span class="s1">'/var/www/{}/static'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">PROJECT_NAME</span><span class="p">)</span>
</pre>
</li>
<li>
<p>静的ファイル集約のための管理コマンド: <code class="docutils literal">collectstatic</code></p>
<pre class="code bash"><a name="rest_code_c8112ca2d680451ba907fd6c92908469-1"></a>$ python3 manage.py collectstatic
</pre>
<ul class="simple">
<li><p><code class="docutils literal">DEBUG = True</code> のときは、 runserver がやってくれるので自分で <code class="docutils literal">collectstatic</code> する必要ない</p></li>
</ul>
</li>
<li>
<p><code class="docutils literal">STATIC_URL</code> を使って画像を表示するテンプレート実装例</p>
<pre class="code python"><a name="rest_code_5d4dc909d86549f8b2233a0f2c61cdeb-1"></a><span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">static</span> <span class="o">%</span><span class="p">}</span>
<a name="rest_code_5d4dc909d86549f8b2233a0f2c61cdeb-2"></a><span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">"{</span><span class="si">% s</span><span class="s2">tatic 'shop/images/no-image.png' %}"</span><span class="o">&gt;</span>
<a name="rest_code_5d4dc909d86549f8b2233a0f2c61cdeb-3"></a><span class="o">&lt;</span><span class="n">img</span> <span class="n">src</span><span class="o">=</span><span class="s2">"{</span><span class="si">% s</span><span class="s2">tatic 'images/logo.png' %}"</span><span class="o">&gt;</span>
</pre>
</li>
</ul>
</div>
<div class="section" id="id8">
<h3><a class="toc-backref" href="#id23">メディアファイル関連設定</a></h3>
<ul class="simple">
<li><p><code class="docutils literal">メディアファイル</code>: 静的ファイルのうち、 (システム管理者を含めた) ユーザーがサイトを利用してアップロードするファイル</p></li>
<li><p>本番環境では、メディアファイルもAPサーバーで裁かずにリバースプロキシなどで捌くことで負荷を減らす</p></li>
</ul>
<pre class="code python"><a name="rest_code_37d2aa207801466282ee703d3be3f9e4-1"></a><span class="c1"># メディアファイルの設定例 (config/settings.py)</span>
<a name="rest_code_37d2aa207801466282ee703d3be3f9e4-2"></a><span class="c1"># DEBUG =  False 時</span>
<a name="rest_code_37d2aa207801466282ee703d3be3f9e4-3"></a><span class="n">MEDIA_URL</span> <span class="o">=</span> <span class="s1">'/media/'</span>
<a name="rest_code_37d2aa207801466282ee703d3be3f9e4-4"></a><span class="n">MEDIA_ROOT</span> <span class="o">=</span> <span class="s1">'/var/www/{}/media'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">PROJECT_NAME</span><span class="p">)</span>
<a name="rest_code_37d2aa207801466282ee703d3be3f9e4-5"></a>
<a name="rest_code_37d2aa207801466282ee703d3be3f9e4-6"></a><span class="c1"># ユニットテスト時 or PaaS ? WhiteNoise 時</span>
<a name="rest_code_37d2aa207801466282ee703d3be3f9e4-7"></a><span class="n">MEDIA_ROOT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s1">'media_root'</span><span class="p">)</span>
</pre>
<ul class="simple">
<li><p>アップロードを実装するときのコツは P.114 付近に詳しく書いてあるので、実装するときはよく見ること</p></li>
</ul>
<div class="section" id="runserver">
<h4><a class="toc-backref" href="#id24">runserver でメディアファイルを配信してくれる仕組みがある</a></h4>
<p>動作確認に便利</p>
<pre class="code python"><a name="rest_code_9b199c283c294d81aaa3409a95ab4b38-1"></a><span class="c1"># config/urls.py</span>
<a name="rest_code_9b199c283c294d81aaa3409a95ab4b38-2"></a><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<a name="rest_code_9b199c283c294d81aaa3409a95ab4b38-3"></a><span class="kn">from</span> <span class="nn">django.conf.urls.static</span> <span class="kn">import</span> <span class="n">static</span>
<a name="rest_code_9b199c283c294d81aaa3409a95ab4b38-4"></a>
<a name="rest_code_9b199c283c294d81aaa3409a95ab4b38-5"></a><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
<a name="rest_code_9b199c283c294d81aaa3409a95ab4b38-6"></a>    <span class="c1"># ...</span>
<a name="rest_code_9b199c283c294d81aaa3409a95ab4b38-7"></a><span class="p">]</span>
<a name="rest_code_9b199c283c294d81aaa3409a95ab4b38-8"></a><span class="c1"># static 関数の内部で DEBUG = True でないと動作しないようにチェックしているよ</span>
<a name="rest_code_9b199c283c294d81aaa3409a95ab4b38-9"></a><span class="n">urlpatterns</span> <span class="o">+=</span> <span class="n">static</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_URL</span><span class="p">,</span> <span class="n">document_root</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">MEDIA_ROOT</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id25">データベース設定</a></h2>
<div class="section" id="id10">
<h3><a class="toc-backref" href="#id26">組み込みでサポートしているデータベースエンジン:</a></h3>
<ul class="simple">
<li><p>django.db.backends.postgresql (PostgreSQL)</p></li>
<li><p>django.db.backends.mysql (MySQL)</p></li>
<li><p>django.db.backends.sqlite3 (SQLite)</p></li>
<li><p>django.db.backends.oracle (Oracle)</p></li>
</ul>
</div>
<div class="section" id="id11">
<h3><a class="toc-backref" href="#id27">設定できる項目一覧:</a></h3>
<ul class="simple">
<li>
<p><a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/settings/#databases">https://docs.djangoproject.com/ja/2.2/ref/settings/#databases</a></p>
<ul>
<li><p><code class="docutils literal">ATOMIC_REQUESTS</code>:  トランザクションの有効範囲をリクエストの開始から終了までにするかどうかを指定できる</p></li>
<li>
<p><code class="docutils literal">OPTIONS</code>:</p>
<ul>
<li>
<p>いろんなオプションを設定できる</p>
<ul>
<li><p>トランザクションの分離レベル <code class="docutils literal">isolation_level</code></p></li>
<li><p>MySQL の SQL モード <code class="docutils literal">sql_mode</code> など</p></li>
</ul>
</li>
<li><p>デフォルトから変更したら、Django 側だけでなくデータベース側にも同じ設定をしておくのが望ましい</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="mysql">
<h3><a class="toc-backref" href="#id28">MySQL で注意する点:</a></h3>
<ul>
<li>
<p>SQLモードを「厳密モード」にしておかないと振る舞いが微妙なので、設定しておいたほうがよい</p>
<pre class="code python"><a name="rest_code_b1098d2f79934304ab19be3ad425a1e9-1"></a><span class="c1"># 最も厳しく設定するとこうなる</span>
<a name="rest_code_b1098d2f79934304ab19be3ad425a1e9-2"></a><span class="s1">'OPTIONS'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_b1098d2f79934304ab19be3ad425a1e9-3"></a>    <span class="s1">'sql_mode'</span><span class="p">:</span> <span class="s1">'TRADITIONAL,NO_AUTO_VALUE_ON_ZERO'</span>
<a name="rest_code_b1098d2f79934304ab19be3ad425a1e9-4"></a><span class="p">}</span>
</pre>
</li>
<li><p>MySQL を利用する際はドライバーが必要: Django 推奨は <code class="docutils literal">mysqlclient</code></p></li>
</ul>
</div>
</div>
<div class="section" id="id12">
<h2><a class="toc-backref" href="#id29">ロギングの設定</a></h2>
<p><a class="reference external" href="https://docs.djangoproject.com/ja/2.2/topics/logging/">https://docs.djangoproject.com/ja/2.2/topics/logging/</a></p>
<ul class="simple">
<li><p>プロジェクト作成時にはロギング設定は書かれていない</p></li>
<li><p>Django の起動時に django.utils.log.py の <code class="docutils literal">DEFAUT_LOGGING</code> の設定が読み込まれる</p></li>
</ul>
<div class="section" id="logging">
<h3><a class="toc-backref" href="#id30">本番稼働時の LOGGING 設定例</a></h3>
<pre class="code python"><a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-1"></a><span class="n">LOGGING</span> <span class="o">=</span> <span class="p">{</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-2"></a>    <span class="c1"># バージョンは「1」固定</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-3"></a>    <span class="s1">'version'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-4"></a>    <span class="c1"># 既存のログ設定を無効化しない</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-5"></a>    <span class="s1">'disable_existing_loggers'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-6"></a>    <span class="c1"># ログフォーマット</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-7"></a>    <span class="s1">'formatters'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-8"></a>        <span class="c1"># 本番用</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-9"></a>        <span class="s1">'production'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-10"></a>            <span class="s1">'format'</span><span class="p">:</span> <span class="s1">'</span><span class="si">%(asctime)s</span><span class="s1"> [</span><span class="si">%(levelname)s</span><span class="s1">] </span><span class="si">%(name)s</span><span class="s1"> </span><span class="si">%(process)d</span><span class="s1"> </span><span class="si">%(thread)d</span><span class="s1"> '</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-11"></a>            <span class="s1">'</span><span class="si">%(pathname)s</span><span class="s1"> </span><span class="si">%(lineno)d</span><span class="s1"> </span><span class="si">%(message)s</span><span class="s1">'</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-12"></a>        <span class="p">},</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-13"></a>    <span class="p">},</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-14"></a>    <span class="c1"># ハンドラ</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-15"></a>    <span class="s1">'handlers'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-16"></a>        <span class="c1"># ファイル出力用ハンドラ</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-17"></a>        <span class="s1">'file'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-18"></a>            <span class="s1">'level'</span><span class="p">:</span> <span class="s1">'INFO'</span><span class="p">,</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-19"></a>            <span class="c1"># logging.handlers.RotatingFileHandler, logging.handlers.TimeRotatingFileHandler</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-20"></a>            <span class="c1"># を使うとログファイルをローテーションできて便利</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-21"></a>            <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'logging.FileHandler'</span><span class="p">,</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-22"></a>            <span class="s1">'filename'</span><span class="p">:</span> <span class="s1">'var/log/{}.log'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">PROJECT_NAME</span><span class="p">),</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-23"></a>            <span class="s1">'formatter'</span><span class="p">:</span> <span class="s1">'production'</span><span class="p">,</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-24"></a>        <span class="p">},</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-25"></a>    <span class="p">},</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-26"></a>    <span class="c1"># ロガー</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-27"></a>    <span class="s1">'loggers'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-28"></a>        <span class="c1"># 自作アプリケーション全般のログを拾うロガー</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-29"></a>        <span class="c1"># '' と書くと、独自に追加したアプリケーションのログを拾うことができる</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-30"></a>        <span class="s1">''</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-31"></a>            <span class="s1">'handlers'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'file'</span><span class="p">]</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-32"></a>            <span class="s1">'level'</span><span class="p">:</span> <span class="s1">'INFO'</span><span class="p">,</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-33"></a>            <span class="s1">'propagate'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-34"></a>        <span class="p">},</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-35"></a>        <span class="c1"># Django 本体が出すログ全般を拾うロガー</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-36"></a>        <span class="s1">'django'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-37"></a>            <span class="s1">'handlers'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'file'</span><span class="p">]</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-38"></a>            <span class="s1">'level'</span><span class="p">:</span> <span class="s1">'INFO'</span><span class="p">,</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-39"></a>            <span class="s1">'propagate'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-40"></a>        <span class="p">},</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-41"></a>    <span class="p">},</span>
<a name="rest_code_94ec71a2aebc412f9e20ca5930d6e0ce-42"></a><span class="p">}</span>
</pre>
</div>
<div class="section" id="id13">
<h3><a class="toc-backref" href="#id31">開発時の LOGGING 設定例</a></h3>
<pre class="code python"><a name="rest_code_3503c8975d4545f292aac66bfc931ef3-1"></a><span class="n">LOGGING</span> <span class="o">=</span> <span class="p">{</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-2"></a>    <span class="c1"># バージョンは「1」固定</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-3"></a>    <span class="s1">'version'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-4"></a>    <span class="c1"># 既存のログ設定を無効化しない</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-5"></a>    <span class="s1">'disable_existing_loggers'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-6"></a>    <span class="c1"># ログフォーマット</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-7"></a>    <span class="s1">'formatters'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-8"></a>        <span class="c1"># 開発用</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-9"></a>        <span class="s1">'develop'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-10"></a>            <span class="s1">'format'</span><span class="p">:</span> <span class="s1">'</span><span class="si">%(asctime)s</span><span class="s1"> [</span><span class="si">%(levelname)s</span><span class="s1">] </span><span class="si">%(pathname)s</span><span class="s1"> </span><span class="si">%(lineno)d</span><span class="s1"> </span><span class="si">%(message)s</span><span class="s1">'</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-11"></a>        <span class="p">},</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-12"></a>    <span class="p">},</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-13"></a>    <span class="c1"># ハンドラ</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-14"></a>    <span class="s1">'handlers'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-15"></a>        <span class="c1"># コンソール出力用ハンドラ</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-16"></a>        <span class="s1">'console'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-17"></a>            <span class="s1">'level'</span><span class="p">:</span> <span class="s1">'DEBUG'</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-18"></a>            <span class="c1"># logging.handlers.RotatingFileHandler, logging.handlers.TimeRotatingFileHandler</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-19"></a>            <span class="c1"># を使うとログファイルをローテーションできて便利</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-20"></a>            <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'logging.StreamHandler'</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-21"></a>            <span class="s1">'filename'</span><span class="p">:</span> <span class="s1">'var/log/{}.log'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">PROJECT_NAME</span><span class="p">),</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-22"></a>            <span class="s1">'formatter'</span><span class="p">:</span> <span class="s1">'develop'</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-23"></a>        <span class="p">},</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-24"></a>    <span class="p">},</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-25"></a>    <span class="c1"># ロガー</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-26"></a>    <span class="s1">'loggers'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-27"></a>        <span class="c1"># 自作アプリケーション全般のログを拾うロガー</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-28"></a>        <span class="s1">''</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-29"></a>            <span class="s1">'handlers'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'console'</span><span class="p">]</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-30"></a>            <span class="s1">'level'</span><span class="p">:</span> <span class="s1">'DEBUG'</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-31"></a>            <span class="s1">'propagate'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-32"></a>        <span class="p">},</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-33"></a>        <span class="c1"># Django 本体が出すログ全般を拾うロガー</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-34"></a>        <span class="s1">'django'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-35"></a>            <span class="s1">'handlers'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'console'</span><span class="p">]</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-36"></a>            <span class="s1">'level'</span><span class="p">:</span> <span class="s1">'INFO'</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-37"></a>            <span class="s1">'propagate'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-38"></a>        <span class="p">},</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-39"></a>        <span class="c1"># 発行される SQL 文を出力するための設定</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-40"></a>        <span class="c1"># パフォーマンスの観点から DEBUG = True でないと出力されないようになっている</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-41"></a>        <span class="s1">'django.db.backends'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-42"></a>            <span class="s1">'handlers'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'console'</span><span class="p">]</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-43"></a>            <span class="s1">'level'</span><span class="p">:</span> <span class="s1">'DEBUG'</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-44"></a>            <span class="s1">'propagate'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-45"></a>        <span class="p">},</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-46"></a>    <span class="p">},</span>
<a name="rest_code_3503c8975d4545f292aac66bfc931ef3-47"></a><span class="p">}</span>
</pre>
</div>
<div class="section" id="id14">
<h3><a class="toc-backref" href="#id32">ロガーを取得する</a></h3>
<pre class="code python"><a name="rest_code_7806e96c043d4272a6cf0350c7591ec2-1"></a><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</pre>
</div>
</div>
<div class="section" id="id15">
<h2><a class="toc-backref" href="#id33">その他の重要な設定</a></h2>
<ul>
<li>
<p><code class="docutils literal">TEMPLATES</code> テンプレートに関する設定: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/settings/#std:setting-TEMPLATES">https://docs.djangoproject.com/ja/2.2/ref/settings/#std:setting-TEMPLATES</a></p>
<pre class="code python"><a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-1"></a><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-2"></a>    <span class="p">{</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-3"></a>        <span class="c1"># テンプレートエンジン</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-4"></a>        <span class="s1">'BACKEND'</span><span class="p">:</span> <span class="s1">'django.template.backends.django.DjangoTemplates'</span><span class="p">,</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-5"></a>        <span class="c1"># ビューから指定されるテンプレート名に対してどのディレクトリを優先してテンプレートを探しに行くかの順番を指定する</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-6"></a>        <span class="s1">'DIRS'</span><span class="p">:</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s1">'templates'</span><span class="p">)],</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-7"></a>        <span class="c1"># テンプートを探す際に、各アプリケーションディレクトリ直下の templates を優先する場合 True</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-8"></a>        <span class="s1">'APP_DIRS'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-9"></a>        <span class="s1">'OPTIONS'</span><span class="p">:</span> <span class="p">{</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-10"></a>            <span class="c1"># テンプレートから参照できる変数を渡すための context_processors</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-11"></a>            <span class="s1">'context_processors'</span><span class="p">:</span> <span class="p">[</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-12"></a>                <span class="s1">'django.template.context_processors.debug'</span><span class="p">,</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-13"></a>                <span class="s1">'django.template.context_processors.request'</span><span class="p">,</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-14"></a>                <span class="s1">'django.contrib.auth.context_processors.auth'</span><span class="p">,</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-15"></a>                <span class="s1">'django.contrib.messages.context_processors.messages'</span><span class="p">,</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-16"></a>            <span class="p">],</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-17"></a>        <span class="p">},</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-18"></a>    <span class="p">},</span>
<a name="rest_code_9ce299dbeddb402dba2ab7c636a17a98-19"></a><span class="p">]</span>
</pre>
</li>
<li>
<p><code class="docutils literal">LANGUAGE_CODE</code> 言語コード: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/settings/#language-code">https://docs.djangoproject.com/ja/2.2/ref/settings/#language-code</a></p>
<pre class="code python"><a name="rest_code_eadaf4ea8b884889918e6a0e8e9687b0-1"></a><span class="c1"># デフォルトは 'en-us'</span>
<a name="rest_code_eadaf4ea8b884889918e6a0e8e9687b0-2"></a><span class="c1"># 管理サイトの表示もここで指定した言語に</span>
<a name="rest_code_eadaf4ea8b884889918e6a0e8e9687b0-3"></a><span class="n">LANGUAGE_CODE</span> <span class="o">=</span> <span class="s1">'ja'</span>  <span class="c1"># 日本語</span>
</pre>
</li>
<li>
<p><code class="docutils literal">TIME_ZONE</code> タイムゾーン: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/settings/#std:setting-TIME_ZONE">https://docs.djangoproject.com/ja/2.2/ref/settings/#std:setting-TIME_ZONE</a></p>
<pre class="code python"><a name="rest_code_14fb02e7aed34269b560e86a1564227e-1"></a><span class="c1"># 時刻を表示する際のタイムゾーンを指定</span>
<a name="rest_code_14fb02e7aed34269b560e86a1564227e-2"></a><span class="c1"># デフォルトは 'UTC'</span>
<a name="rest_code_14fb02e7aed34269b560e86a1564227e-3"></a><span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s1">'Asia/Tokyo'</span>  <span class="c1"># 日本</span>
</pre>
</li>
<li><p><code class="docutils literal">MIDDLEWARE</code> ミドルウェアの設定: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/settings/#middleware">https://docs.djangoproject.com/ja/2.2/ref/settings/#middleware</a></p></li>
<li><p><code class="docutils literal">ALLOWED_HOSTS</code> 許可するホスト : <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/settings/#allowed-hosts">https://docs.djangoproject.com/ja/2.2/ref/settings/#allowed-hosts</a></p></li>
<li>
<p><code class="docutils literal">SECRET_KEY</code> シークレットキー: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/settings/#std:setting-SECRET_KEY">https://docs.djangoproject.com/ja/2.2/ref/settings/#std:setting-SECRET_KEY</a></p>
<ul class="simple">
<li><p>Django 内部で暗号署名やハッシュ生成に利用されるシークレットな文字列</p></li>
<li><p>SECRET_KEY が設定されていない場合、Django は起動しない</p></li>
<li><p>django-admin startproject コマンドを実行すると、新しいプロジェクトを作成するたびに、ランダムに生成された SECRET_KEY を自動的に設定してくれる</p></li>
<li><p>環境ごとに固有であることが望ましい</p></li>
</ul>
</li>
<li><p><code class="docutils literal">SITE_ID</code> サイトID: <a class="reference external" href="https://docs.djangoproject.com/ja/2.2/ref/settings/#sites">https://docs.djangoproject.com/ja/2.2/ref/settings/#sites</a></p></li>
</ul>
</div>
<div class="section" id="id16">
<h2><a class="toc-backref" href="#id34">ベストプラクティス</a></h2>
<ul>
<li>
<p>個人の開発環境の設定は <code class="docutils literal">local_settings.py</code> に書く</p>
<pre class="code bash"><a name="rest_code_e2914b85233d43438e587427017680f0-1"></a>$ python3 manage.py runserver <span class="m">0</span>.0.0.0:8000 --settings config.local_settings
<a name="rest_code_e2914b85233d43438e587427017680f0-2"></a>
<a name="rest_code_e2914b85233d43438e587427017680f0-3"></a><span class="c1"># もしくは</span>
<a name="rest_code_e2914b85233d43438e587427017680f0-4"></a>$ <span class="nb">export</span> <span class="nv">DJANGO_SETTINGS_MODULE</span><span class="o">=</span>config.local_settings
<a name="rest_code_e2914b85233d43438e587427017680f0-5"></a>$ python3 manage.py runserver <span class="m">0</span>.0.0.0:8000
</pre>
</li>
<li>
<p>シークレットな変数は <code class="docutils literal">.env</code> に書く</p>
<ul class="simple">
<li><p>バージョン管理下に置かない</p></li>
<li><p>settings.py には書かない</p></li>
<li><p>django-environ 便利</p></li>
</ul>
</li>
</ul>
</div>
</div>
    </div>
  </main>
</div>
</div>
    </div>
  </body>
</html>
