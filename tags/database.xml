<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ふみのて (databaseについての文書)</title><link>https://32imuf.com/</link><description></description><atom:link href="https://32imuf.com/tags/database.xml" rel="self" type="application/rss+xml"></atom:link><language>ja</language><copyright>Contents © 2019 &lt;a href="mailto:fumi232323fumi2016@gmail.com"&gt;fumi23&lt;/a&gt; </copyright><lastBuildDate>Sun, 10 Nov 2019 13:51:10 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>MySQL のメモ</title><link>https://32imuf.com/database/mysql/note/</link><dc:creator>fumi23</dc:creator><description>&lt;div&gt;&lt;details&gt;&lt;summary&gt;目次&lt;/summary&gt;&lt;div class="contents topic" id="id1"&gt;
&lt;p class="topic-title first"&gt;目次&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://32imuf.com/database/mysql/note/#id2" id="id8"&gt;リファレンス&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://32imuf.com/database/mysql/note/#id3" id="id9"&gt;ログイン&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://32imuf.com/database/mysql/note/#id4" id="id10"&gt;便利&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://32imuf.com/database/mysql/note/#id5" id="id11"&gt;データベース&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://32imuf.com/database/mysql/note/#id6" id="id12"&gt;テーブル&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://32imuf.com/database/mysql/note/#dump" id="id13"&gt;dump&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference internal" href="https://32imuf.com/database/mysql/note/#id7" id="id14"&gt;おぼえがき&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/details&gt;&lt;div class="section" id="id2"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://32imuf.com/database/mysql/note/#id8"&gt;リファレンス&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://dev.mysql.com/doc/refman/8.0/en/"&gt;MySQL 8.0 Reference Manual&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://dev.mysql.com/doc/refman/8.0/en/information-schema.html"&gt;Chapter 25 INFORMATION_SCHEMA Tables&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html"&gt;4.5.4 mysqldump&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://dev.mysql.com/doc/refman/8.0/en/window-functions.html"&gt;12.21 Window Functions&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://32imuf.com/database/mysql/note/#id9"&gt;ログイン&lt;/a&gt;&lt;/h2&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_d115dad451b4435bab1ee2add3251ba5-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# ログイン&lt;/span&gt;
&lt;a name="rest_code_d115dad451b4435bab1ee2add3251ba5-2"&gt;&lt;/a&gt;$ mysql -u user_name -D db_mame -p
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://32imuf.com/database/mysql/note/#id10"&gt;便利&lt;/a&gt;&lt;/h2&gt;
&lt;pre class="code mysql"&gt;&lt;a name="rest_code_776683266d884af98a83180a49175095-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- 拡張表示&lt;/span&gt;
&lt;a name="rest_code_776683266d884af98a83180a49175095-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;users&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;login&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'fumi23'&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="id5"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://32imuf.com/database/mysql/note/#id11"&gt;データベース&lt;/a&gt;&lt;/h2&gt;
&lt;pre class="code mysql"&gt;&lt;a name="rest_code_8ffe7339e20145108690455cae97e47b-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- データベース一覧&lt;/span&gt;
&lt;a name="rest_code_8ffe7339e20145108690455cae97e47b-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="k"&gt;DATABASES&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_8ffe7339e20145108690455cae97e47b-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_8ffe7339e20145108690455cae97e47b-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- データベースの切り替え&lt;/span&gt;
&lt;a name="rest_code_8ffe7339e20145108690455cae97e47b-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;USE&lt;/span&gt; &lt;span class="n"&gt;db_mame&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;pre class="code mysql"&gt;&lt;a name="rest_code_75386c907ff94df0915b62458b2d1c2b-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- 現在の Character Sets 設定を表示する&lt;/span&gt;
&lt;a name="rest_code_75386c907ff94df0915b62458b2d1c2b-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="n"&gt;VARIABLES&lt;/span&gt; &lt;span class="k"&gt;LIKE&lt;/span&gt; &lt;span class="s2"&gt;"char%"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_75386c907ff94df0915b62458b2d1c2b-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_75386c907ff94df0915b62458b2d1c2b-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- 現在のタイムゾーン設定を表示する&lt;/span&gt;
&lt;a name="rest_code_75386c907ff94df0915b62458b2d1c2b-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="n"&gt;VARIABLES&lt;/span&gt; &lt;span class="k"&gt;LIKE&lt;/span&gt; &lt;span class="s1"&gt;'%time_zone%'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_75386c907ff94df0915b62458b2d1c2b-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_75386c907ff94df0915b62458b2d1c2b-7"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- 現在の状態を表示する&lt;/span&gt;
&lt;a name="rest_code_75386c907ff94df0915b62458b2d1c2b-8"&gt;&lt;/a&gt;&lt;span class="n"&gt;STATUS&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;pre class="code mysql"&gt;&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- データサイズを確認する&lt;/span&gt;
&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-2"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- https://dev.mysql.com/doc/refman/8.0/en/tables-table.html&lt;/span&gt;
&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-3"&gt;&lt;/a&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt;
&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-4"&gt;&lt;/a&gt;  &lt;span class="nf"&gt;SUM&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data_length&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;db_size_gb&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-5"&gt;&lt;/a&gt;  &lt;span class="nf"&gt;SUM&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data_length&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;db_size_mb&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-6"&gt;&lt;/a&gt;  &lt;span class="nf"&gt;SUM&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data_length&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;db_size_kb&lt;/span&gt;
&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-7"&gt;&lt;/a&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;
&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-8"&gt;&lt;/a&gt;  &lt;span class="n"&gt;information_schema&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kp"&gt;tables&lt;/span&gt;
&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-9"&gt;&lt;/a&gt;&lt;span class="k"&gt;WHERE&lt;/span&gt;
&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-10"&gt;&lt;/a&gt;  &lt;span class="n"&gt;table_schema&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'mmm'&lt;/span&gt;
&lt;a name="rest_code_35f79c76905741b4b131a23e0cb127e0-11"&gt;&lt;/a&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="id6"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://32imuf.com/database/mysql/note/#id12"&gt;テーブル&lt;/a&gt;&lt;/h2&gt;
&lt;pre class="code mysql"&gt;&lt;a name="rest_code_ec2a7c90e00744bc8cfad0d0bcd4c0f9-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- テーブル一覧&lt;/span&gt;
&lt;a name="rest_code_ec2a7c90e00744bc8cfad0d0bcd4c0f9-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="kp"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_ec2a7c90e00744bc8cfad0d0bcd4c0f9-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_ec2a7c90e00744bc8cfad0d0bcd4c0f9-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- テーブルの列一覧&lt;/span&gt;
&lt;a name="rest_code_ec2a7c90e00744bc8cfad0d0bcd4c0f9-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="n"&gt;COLUMNS&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_ec2a7c90e00744bc8cfad0d0bcd4c0f9-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_ec2a7c90e00744bc8cfad0d0bcd4c0f9-7"&gt;&lt;/a&gt;&lt;span class="c1"&gt;-- テーブル定義を確認する&lt;/span&gt;
&lt;a name="rest_code_ec2a7c90e00744bc8cfad0d0bcd4c0f9-8"&gt;&lt;/a&gt;&lt;span class="k"&gt;DESC&lt;/span&gt; &lt;span class="n"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_ec2a7c90e00744bc8cfad0d0bcd4c0f9-9"&gt;&lt;/a&gt;&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="n"&gt;FULL&lt;/span&gt; &lt;span class="n"&gt;COLUMNS&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_ec2a7c90e00744bc8cfad0d0bcd4c0f9-10"&gt;&lt;/a&gt;&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="k"&gt;CREATE&lt;/span&gt; &lt;span class="k"&gt;TABLE&lt;/span&gt; &lt;span class="n"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="dump"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://32imuf.com/database/mysql/note/#id13"&gt;dump&lt;/a&gt;&lt;/h2&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_769fa0d6fd6048ea9180a6f593749e69-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# dump を作る&lt;/span&gt;
&lt;a name="rest_code_769fa0d6fd6048ea9180a6f593749e69-2"&gt;&lt;/a&gt;$ mysqldump -u root -p db_mame &amp;gt; dump_filename.sql
&lt;a name="rest_code_769fa0d6fd6048ea9180a6f593749e69-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_769fa0d6fd6048ea9180a6f593749e69-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# dump を入れる&lt;/span&gt;
&lt;a name="rest_code_769fa0d6fd6048ea9180a6f593749e69-5"&gt;&lt;/a&gt;$ mysql -h localhost -u root -p db_mame &amp;lt; dump_filename.sql
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="id7"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://32imuf.com/database/mysql/note/#id14"&gt;おぼえがき&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Window 関数は 8.0.2 から利用可能&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://mysqlserverteam.com/mysql-8-0-2-introducing-window-functions/"&gt;MySQL 8.0.2: Introducing Window Functions&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;MySQL 8.0.4 からデフォルトの認証 plugin のデフォルト値が mysql_native_password から caching_sha2_password へ変更になった&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://32imuf.com/docker/create-django-env-with-docker-compose-mysql-2/#default-authentication-plugin-mysql-native-password"&gt;default-authentication-plugin=mysql_native_password について&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Database Character Set and Collation&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://dev.mysql.com/doc/refman/5.7/en/charset-database.html"&gt;https://dev.mysql.com/doc/refman/5.7/en/charset-database.html&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;CREATE TABLE 時、指定しないとデータベースの Character Set と Collation が使われる&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LOAD DATA 時、指定しないとデータベースの Character Set と Collation が使われる&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>database</category><category>mysql</category><guid>https://32imuf.com/database/mysql/note/</guid><pubDate>Mon, 29 Apr 2019 15:00:00 GMT</pubDate></item><item><title>Redshift のメモ</title><link>https://32imuf.com/database/redshift/note/</link><dc:creator>fumi23</dc:creator><description>&lt;div&gt;&lt;div class="section" id="id1"&gt;
&lt;h2&gt;データ分散&lt;/h2&gt;
&lt;div class="section" id="diststyle"&gt;
&lt;h3&gt;DISTSTYLE&lt;/h3&gt;
&lt;p&gt;テーブル全体のデータ分散スタイルを定義する。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code class="docutils literal"&gt;EVEN&lt;/code&gt; 、 &lt;code class="docutils literal"&gt;KEY&lt;/code&gt; 、 &lt;code class="docutils literal"&gt;ALL&lt;/code&gt; の3種類ある&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_TABLE_AS.html"&gt;CREATE TABLE AS&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;テーブルにどの分散スタイルを選択するかによって、データベースの全体的なパフォーマンスが左右されます。&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_choosing_dist_sort.html"&gt;分散スタイル&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_Distribution_examples.html"&gt;分散の例&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;よく考えて選んだほうが良さそう...&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="distkey"&gt;
&lt;h3&gt;DISTKEY&lt;/h3&gt;
&lt;p&gt;分散キーの列名または位置番号を指定する。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h2&gt;文字データ型&lt;/h2&gt;
&lt;div class="section" id="varchar"&gt;
&lt;h3&gt;マルチバイト文字の VARCHAR&lt;/h3&gt;
&lt;p&gt;CHAR および VARCHAR のデータ型は、文字単位でなくバイト単位で定義される。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_Character_types.html"&gt;文字型&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;例えば、VARCHAR(12) 列には、シングルバイト文字なら 12 個、2 バイト文字なら 6 個、3 バイト文字なら 4 個、4 バイト文字なら 3 個含めることができます。&lt;/pre&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;3バイト文字と4バイト文字の違いがわかってない・・&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="max"&gt;
&lt;h3&gt;MAX キーワード&lt;/h3&gt;
&lt;p&gt;CHAR と VARCHAR は、 MAX キーワードを指定できる。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_Character_types.html#r_Character_types-storage-and-ranges"&gt;ストレージと範囲&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;MAX 設定は列幅を定義します。CHAR の場合は 4096 バイトであり、VARCHAR の場合は 65535 となります。&lt;/pre&gt;
&lt;pre class="code sql"&gt;&lt;a name="rest_code_5b24df9a389840b480a31d95057fc606-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;create&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;col1&lt;/span&gt; &lt;span class="nb"&gt;varchar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;max&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id7"&gt;
&lt;h2&gt;圧縮&lt;/h2&gt;
&lt;div class="section" id="id8"&gt;
&lt;h3&gt;圧縮分析&lt;/h3&gt;
&lt;p&gt;圧縮分析レポート取得できるコマンドがある。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ANALYZE_COMPRESSION.html"&gt;ANALYZE COMPRESSION&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;圧縮分析を行い、分析されたテーブルの推奨列エンコードスキームのレポートを生成します。レポートには、列ごとに現在のエンコードと比較したディスク容量の圧縮可能率の推定値が含まれます。&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id9"&gt;
&lt;h3&gt;列圧縮タイプの選択&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;テーブルの作成後に変更することはできない&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ALTER 文で列追加する場合は指定できる&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;圧縮すると、クエリパフォーマンスが向上する&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/t_Compressing_data_on_disk.html"&gt;列圧縮タイプの選択&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;テーブルの作成後に列の圧縮エンコードを変更することはできません。ALTER TABLE コマンドを使用して列をテーブルに追加する際には、列のエンコードを指定できます。&lt;/pre&gt;
&lt;pre class="literal-block"&gt;圧縮は、データの格納時にそのサイズを小さくする列レベルの操作です。圧縮によってストレージスペースが節約され、ストレージから読み込まれるデータのサイズが小さくなり、ディスク I/O の量が減少するので、クエリパフォーマンスが向上します&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id11"&gt;
&lt;h3&gt;圧縮エンコード&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;指定しないと自動的に割り当てられる。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;型によっては、CREATE TABLE または ALTER TABLE ステートメントで明示的に指定した方が良さそう。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_Compression_encodings.html"&gt;圧縮エンコード&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;圧縮エンコードは、行がテーブルに追加されるときにデータ値の列に適用される圧縮のタイプを指定します。

CREATE TABLE または ALTER TABLE ステートメントで圧縮が指定されていない場合、Amazon Redshift は以下のように自動的に圧縮エンコードを割り当てます。...&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>database</category><category>redshift</category><guid>https://32imuf.com/database/redshift/note/</guid><pubDate>Sat, 01 Sep 2018 15:00:00 GMT</pubDate></item></channel></rss>